<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Runway ML - AI Creative Media Platform</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0a0e27;
      color: #e0e6ed;
      line-height: 1.6;
      overflow-x: hidden;
    }

    /* Navigation */
    nav {
      position: fixed;
      top: 0;
      width: 100%;
      background: rgba(10, 14, 39, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0, 255, 255, 0.1);
      padding: 1rem 2rem;
      z-index: 1000;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 1.5rem;
      font-weight: 700;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      letter-spacing: 2px;
    }

    .nav-links {
      display: flex;
      gap: 2rem;
      list-style: none;
    }

    .nav-links a {
      color: #e0e6ed;
      text-decoration: none;
      transition: color 0.3s;
      font-weight: 500;
    }

    .nav-links a:hover {
      color: #00ffff;
    }

    /* Hero Section */
    .hero {
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      background: linear-gradient(180deg, #0a0e27 0%, #1a1f3a 100%);
    }

    .hero-grid {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(0, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 255, 0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      animation: gridMove 20s linear infinite;
    }

    @keyframes gridMove {
      0% { transform: translate(0, 0); }
      100% { transform: translate(50px, 50px); }
    }

    .hero-content {
      text-align: center;
      z-index: 10;
      padding: 2rem;
      max-width: 1200px;
    }

    .hero h1 {
      font-size: 4.5rem;
      font-weight: 800;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #00ffff, #0080ff, #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 80px rgba(0, 255, 255, 0.5);
      animation: glow 3s ease-in-out infinite;
    }

    @keyframes glow {
      0%, 100% { filter: brightness(1); }
      50% { filter: brightness(1.3); }
    }

    .hero p {
      font-size: 1.5rem;
      color: #b0c4de;
      margin-bottom: 2rem;
    }

    .cta-button {
      display: inline-block;
      padding: 1rem 2.5rem;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      color: #0a0e27;
      text-decoration: none;
      border-radius: 50px;
      font-weight: 700;
      font-size: 1.1rem;
      transition: all 0.3s;
      border: 2px solid transparent;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
      cursor: pointer;
    }

    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 50px rgba(0, 255, 255, 0.8);
    }

    /* Section Styles */
    section {
      padding: 6rem 2rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .section-title {
      font-size: 3rem;
      text-align: center;
      margin-bottom: 3rem;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .section-subtitle {
      text-align: center;
      color: #b0c4de;
      font-size: 1.2rem;
      margin-bottom: 4rem;
    }

    /* Feature Cards */
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2rem;
      margin-bottom: 4rem;
    }

    .feature-card {
      background: linear-gradient(135deg, rgba(0, 128, 255, 0.05), rgba(0, 255, 255, 0.05));
      border: 1px solid rgba(0, 255, 255, 0.2);
      border-radius: 20px;
      padding: 2rem;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
      cursor: pointer;
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0, 255, 255, 0.1), transparent);
      transition: left 0.5s;
    }

    .feature-card:hover::before {
      left: 100%;
    }

    .feature-card:hover {
      transform: translateY(-10px);
      border-color: rgba(0, 255, 255, 0.5);
      box-shadow: 0 10px 40px rgba(0, 255, 255, 0.3);
    }

    .feature-icon {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      font-size: 1.8rem;
    }

    .feature-card h3 {
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: #00ffff;
    }

    .feature-card p {
      color: #b0c4de;
      line-height: 1.8;
    }

    /* Tools Showcase */
    .tools-showcase {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }

    .tool-item {
      background: rgba(0, 128, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.15);
      border-radius: 15px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s;
      cursor: pointer;
    }

    .tool-item:hover {
      background: rgba(0, 128, 255, 0.1);
      border-color: rgba(0, 255, 255, 0.4);
      transform: scale(1.05);
    }

    .tool-item h4 {
      color: #00ffff;
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    /* Login Page */
    .login-container {
      min-height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(180deg, #0a0e27 0%, #1a1f3a 100%);
      position: relative;
    }

    .login-box {
      background: rgba(10, 14, 39, 0.8);
      border: 2px solid rgba(0, 255, 255, 0.3);
      border-radius: 25px;
      padding: 3rem;
      width: 90%;
      max-width: 450px;
      box-shadow: 0 0 50px rgba(0, 255, 255, 0.3);
      backdrop-filter: blur(10px);
    }

    .login-box h2 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 2rem;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      color: #00ffff;
      font-weight: 600;
    }

    .form-group input {
      width: 100%;
      padding: 1rem;
      background: rgba(0, 128, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 10px;
      color: #e0e6ed;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .form-group input:focus {
      outline: none;
      border-color: #00ffff;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }

    .login-button {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      color: #0a0e27;
      border: none;
      border-radius: 10px;
      font-size: 1.1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 1rem;
    }

    .login-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.6);
    }

    /* Dashboard */
    .dashboard {
      padding-top: 100px;
      min-height: 100%;
    }

    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .dashboard-card {
      background: linear-gradient(135deg, rgba(0, 128, 255, 0.1), rgba(0, 255, 255, 0.05));
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 20px;
      padding: 2rem;
      transition: all 0.3s;
      cursor: pointer;
    }

    .dashboard-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 40px rgba(0, 255, 255, 0.4);
      border-color: #00ffff;
    }

    .dashboard-card h3 {
      color: #00ffff;
      margin-bottom: 1rem;
      font-size: 1.4rem;
    }

    /* Contact Form */
    .contact-form {
      max-width: 700px;
      margin: 0 auto;
      background: rgba(10, 14, 39, 0.6);
      padding: 3rem;
      border-radius: 25px;
      border: 1px solid rgba(0, 255, 255, 0.2);
    }

    textarea {
      width: 100%;
      padding: 1rem;
      background: rgba(0, 128, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 10px;
      color: #e0e6ed;
      font-size: 1rem;
      font-family: inherit;
      min-height: 150px;
      resize: vertical;
    }

    textarea:focus {
      outline: none;
      border-color: #00ffff;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }

    /* Footer */
    footer {
      background: rgba(10, 14, 39, 0.95);
      border-top: 1px solid rgba(0, 255, 255, 0.2);
      padding: 3rem 2rem;
      text-align: center;
      color: #b0c4de;
    }

    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 1.5rem;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: #00ffff;
      text-decoration: none;
      transition: color 0.3s;
    }

    .footer-links a:hover {
      color: #0080ff;
    }

    /* Page Visibility */
    .page {
      display: none;
    }

    .page.active {
      display: block;
    }

    /* Users Section */
    .users-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1.5rem;
      margin-top: 3rem;
    }

    .user-badge {
      background: rgba(0, 255, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.2);
      border-radius: 15px;
      padding: 1.5rem;
      text-align: center;
      transition: all 0.3s;
    }

    .user-badge:hover {
      background: rgba(0, 255, 255, 0.1);
      border-color: #00ffff;
    }

    .user-badge::before {
      content: 'üë§';
      font-size: 2rem;
      display: block;
      margin-bottom: 0.5rem;
    }

    /* Info Box */
    .info-box {
      background: rgba(0, 128, 255, 0.1);
      border-left: 4px solid #00ffff;
      padding: 1.5rem;
      margin: 2rem 0;
      border-radius: 10px;
    }

    .info-box h4 {
      color: #00ffff;
      margin-bottom: 0.5rem;
    }

    /* List Styles */
    ul.styled-list {
      list-style: none;
      padding-left: 0;
    }

    ul.styled-list li {
      padding: 0.5rem 0;
      padding-left: 1.5rem;
      position: relative;
    }

    ul.styled-list li::before {
      content: '‚ñπ';
      color: #00ffff;
      position: absolute;
      left: 0;
      font-size: 1.2rem;
    }

    /* Tool Interface Styles */
    .tool-interface {
      background: rgba(10, 14, 39, 0.8);
      border: 2px solid rgba(0, 255, 255, 0.3);
      border-radius: 25px;
      padding: 3rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .tool-workspace {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin-top: 2rem;
    }

    .upload-area {
      border: 2px dashed rgba(0, 255, 255, 0.3);
      border-radius: 15px;
      padding: 3rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      background: rgba(0, 128, 255, 0.05);
    }

    .upload-area:hover {
      border-color: #00ffff;
      background: rgba(0, 128, 255, 0.1);
    }

    .preview-area {
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 15px;
      padding: 2rem;
      min-height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(0, 0, 0, 0.3);
    }

    .controls-panel {
      margin-top: 2rem;
      padding: 2rem;
      background: rgba(0, 128, 255, 0.05);
      border-radius: 15px;
      border: 1px solid rgba(0, 255, 255, 0.2);
    }

    .control-group {
      margin-bottom: 1.5rem;
    }

    .control-group label {
      display: block;
      color: #00ffff;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }

    .slider {
      width: 100%;
      height: 8px;
      border-radius: 5px;
      background: rgba(0, 255, 255, 0.2);
      outline: none;
      -webkit-appearance: none;
    }

    .slider::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      cursor: pointer;
    }

    .slider::-moz-range-thumb {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      cursor: pointer;
      border: none;
    }

    .tool-canvas {
      max-width: 100%;
      border-radius: 10px;
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
    }

    .process-button {
      padding: 1rem 2rem;
      background: linear-gradient(135deg, #00ffff, #0080ff);
      color: #0a0e27;
      border: none;
      border-radius: 10px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1rem;
    }

    .process-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(0, 255, 255, 0.5);
    }

    .process-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .loading {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(0, 255, 255, 0.3);
      border-radius: 50%;
      border-top-color: #00ffff;
      animation: spin 1s ease-in-out infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .success-message {
      background: rgba(0, 255, 0, 0.1);
      border: 1px solid rgba(0, 255, 0, 0.3);
      padding: 1rem;
      border-radius: 10px;
      margin-top: 1rem;
      color: #00ff00;
      text-align: center;
    }

    .button-group {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    .secondary-button {
      padding: 0.75rem 1.5rem;
      background: rgba(0, 128, 255, 0.1);
      color: #00ffff;
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .secondary-button:hover {
      background: rgba(0, 128, 255, 0.2);
      border-color: #00ffff;
    }

    .file-input {
      display: none;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        gap: 1rem;
        font-size: 0.9rem;
      }

      .hero h1 {
        font-size: 2.5rem;
      }

      .hero p {
        font-size: 1.2rem;
      }

      .section-title {
        font-size: 2rem;
      }

      .features-grid,
      .tools-showcase,
      .dashboard-grid {
        grid-template-columns: 1fr;
      }

      nav {
        flex-direction: column;
        gap: 1rem;
      }

      .tool-workspace {
        grid-template-columns: 1fr;
      }
    }

    .text-generator-output {
      margin-top: 2rem;
      padding: 2rem;
      background: rgba(0, 128, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.2);
      border-radius: 15px;
      min-height: 200px;
    }

    .video-player {
      width: 100%;
      border-radius: 10px;
      background: #000;
    }

    select {
      width: 100%;
      padding: 0.75rem;
      background: rgba(0, 128, 255, 0.05);
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 10px;
      color: #e0e6ed;
      font-size: 1rem;
      cursor: pointer;
    }

    select:focus {
      outline: none;
      border-color: #00ffff;
    }

    .back-button {
      display: inline-block;
      padding: 0.75rem 1.5rem;
      background: rgba(0, 128, 255, 0.1);
      color: #00ffff;
      border: 1px solid rgba(0, 255, 255, 0.3);
      border-radius: 10px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s;
      margin-bottom: 2rem;
    }

    .back-button:hover {
      background: rgba(0, 128, 255, 0.2);
      border-color: #00ffff;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="/_sdk/element_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body><!-- Navigation -->
  <nav>
   <div class="logo">
    RUNWAY ML
   </div>
   <ul class="nav-links" id="navLinks">
    <li><a href="#" onclick="showPage('home')">Home</a></li>
    <li><a href="#" onclick="showPage('tools')">Tools</a></li>
    <li><a href="#" onclick="showPage('about')">About</a></li>
    <li><a href="#" onclick="showPage('contact')">Contact</a></li>
    <li id="loginLink"><a href="#" onclick="showPage('login')">Login</a></li>
    <li id="dashboardLink"><a href="#" onclick="showPage('dashboard')">Dashboard</a></li>
   <li id="registerLink"><a href="#" onclick="showPage('register')">Register</a></li><li id="logoutLink" style="display:none;"><a href="#" onclick="logout()">Logout</a></li></ul>
  </nav><!-- Homepage -->
  <div id="home" class="page active">
   <section class="hero">
    <div class="hero-grid"></div>
    <div class="hero-content">
     <h1>RUNWAY ML</h1>
     <p>AI-Powered Creative Media Platform</p>
     <p style="font-size: 1.1rem; max-width: 800px; margin: 0 auto 2rem;">Transform your creative workflow with cutting-edge AI tools for video editing, image generation, and real-time media enhancement.</p><a href="#" onclick="showPage('dashboard')" class="cta-button">Launch Platform</a>
    </div>
   </section>
   <section>
    <h2 class="section-title">AI Creative Tools</h2>
    <p class="section-subtitle">Powerful AI-driven features for modern content creators</p>
    <div class="features-grid">
     <div class="feature-card" onclick="showTool('background-removal')">
      <div class="feature-icon">
       üñºÔ∏è
      </div>
      <h3>Background Removal</h3>
      <p>Instantly remove backgrounds from images with intelligent edge detection and seamless compositing.</p>
     </div>
     <div class="feature-card" onclick="showTool('style-transfer')">
      <div class="feature-icon">
       üé®
      </div>
      <h3>Style Transfer</h3>
      <p>Apply artistic styles to your media using neural style transfer and create unique visual aesthetics.</p>
     </div>
     <div class="feature-card" onclick="showTool('image-enhancement')">
      <div class="feature-icon">
       üîç
      </div>
      <h3>Image Enhancement</h3>
      <p>Enhance image quality with AI-powered filters, sharpening, and color correction.</p>
     </div>
     <div class="feature-card" onclick="showTool('text-to-image')">
      <div class="feature-icon">
       üìù
      </div>
      <h3>Text-to-Image</h3>
      <p>Generate creative images from text descriptions using AI visualization.</p>
     </div>
     <div class="feature-card" onclick="showTool('video-editor')">
      <div class="feature-icon">
       üé¨
      </div>
      <h3>Video Editor</h3>
      <p>Edit videos with real-time preview, trimming, and speed controls.</p>
     </div>
     <div class="feature-card" onclick="showTool('color-grading')">
      <div class="feature-icon">
       üåà
      </div>
      <h3>Color Grading</h3>
      <p>Professional color grading with presets and custom adjustments.</p>
     </div>
     <div class="feature-card" onclick="showTool('image-filters')">
      <div class="feature-icon">
       ‚ú®
      </div>
      <h3>Image Filters</h3>
      <p>Apply professional filters and effects to transform your images.</p>
     </div>
     <div class="feature-card" onclick="showTool('text-effects')">
      <div class="feature-icon">
       üí¨
      </div>
      <h3>Text Effects</h3>
      <p>Create stunning text with 3D effects, shadows, and animations.</p>
     </div>
    </div>
   </section>
   <section style="background: rgba(0, 128, 255, 0.02); margin: 0; max-width: 100%; padding: 4rem 2rem;">
    <div style="max-width: 1400px; margin: 0 auto;">
     <h2 class="section-title">Built For Creators</h2>
     <div class="users-grid">
      <div class="user-badge"><strong>Students</strong>
       <p style="margin-top: 0.5rem; color: #b0c4de; font-size: 0.9rem;">Learn AI workflows</p>
      </div>
      <div class="user-badge"><strong>Educators</strong>
       <p style="margin-top: 0.5rem; color: #b0c4de; font-size: 0.9rem;">Teach media production</p>
      </div>
      <div class="user-badge"><strong>Filmmakers</strong>
       <p style="margin-top: 0.5rem; color: #b0c4de; font-size: 0.9rem;">Enhance video projects</p>
      </div>
      <div class="user-badge"><strong>Designers</strong>
       <p style="margin-top: 0.5rem; color: #b0c4de; font-size: 0.9rem;">Create visual content</p>
      </div>
      <div class="user-badge"><strong>Content Creators</strong>
       <p style="margin-top: 0.5rem; color: #b0c4de; font-size: 0.9rem;">Produce engaging media</p>
      </div>
      <div class="user-badge"><strong>Marketers</strong>
       <p style="margin-top: 0.5rem; color: #b0c4de; font-size: 0.9rem;">Build brand assets</p>
      </div>
     </div>
    </div>
   </section>
   <footer>
    <div class="footer-content">
     <div class="footer-links"><a href="#" onclick="showPage('home')">Home</a> <a href="#" onclick="showPage('tools')">Tools</a> <a href="#" onclick="showPage('about')">About</a> <a href="#" onclick="showPage('contact')">Contact</a>
     </div>
     <p>¬© 2024 Runway ML - AI Creative Media Platform. IDTE Project.</p>
    </div>
   </footer>
  </div><!-- Login Page -->
  <div id="login" class="page">
   <div class="login-container">
    <div class="hero-grid"></div>
    <div class="login-box">
     <h2>Welcome Back</h2>
     <form id="loginForm" onsubmit="handleLogin(event)">
      <div class="form-group"><label for="email">Email Address</label> <input type="email" id="email" placeholder="Enter your email" required>
      </div>
      <div class="form-group"><label for="password">Password</label> <input type="password" id="password" placeholder="Enter your password" required>
      </div><button type="submit" class="login-button">Access Platform</button>
     </form>
    </div>
   </div>
  </div>
<!-- ‚úÖ AUTH REGISTER PAGE -->
<div id="register" class="page">
  <div class="login-container">
    <div class="login-box">
      <h2>Create Account</h2>
      <form onsubmit="handleRegister(event)">
        <div class="form-group"><label>Name</label><input id="regName" required></div>
        <div class="form-group"><label>Email</label><input id="regEmail" type="email" required></div>
        <div class="form-group"><label>Password</label><input id="regPassword" type="password" required></div>
        <button type="submit" class="login-button">Register</button>
        <div id="registerMsg"></div>
      </form>
    </div>
  </div>
</div>
<!-- Dashboard Page -->
  <div id="dashboard" class="page">
   <section class="dashboard">
    <h2 class="section-title">Creative Dashboard</h2>
    <p class="section-subtitle">Access your AI-powered creative tools</p>
    <div class="dashboard-grid">
     <div class="dashboard-card" onclick="showTool('background-removal')">
      <div class="feature-icon">
       üñºÔ∏è
      </div>
      <h3>Background Removal</h3>
      <p>Remove backgrounds from images instantly</p>
     </div>
     <div class="dashboard-card" onclick="showTool('style-transfer')">
      <div class="feature-icon">
       üé®
      </div>
      <h3>Style Transfer</h3>
      <p>Apply artistic styles to your images</p>
     </div>
     <div class="dashboard-card" onclick="showTool('image-enhancement')">
      <div class="feature-icon">
       üîç
      </div>
      <h3>Image Enhancement</h3>
      <p>Enhance and improve image quality</p>
     </div>
     <div class="dashboard-card" onclick="showTool('text-to-image')">
      <div class="feature-icon">
       üìù
      </div>
      <h3>Text-to-Image</h3>
      <p>Generate images from descriptions</p>
     </div>
     <div class="dashboard-card" onclick="showTool('video-editor')">
      <div class="feature-icon">
       üé¨
      </div>
      <h3>Video Editor</h3>
      <p>Edit and enhance your videos</p>
     </div>
     <div class="dashboard-card" onclick="showTool('color-grading')">
      <div class="feature-icon">
       üåà
      </div>
      <h3>Color Grading</h3>
      <p>Professional color correction</p>
     </div>
     <div class="dashboard-card" onclick="showTool('image-filters')">
      <div class="feature-icon">
       ‚ú®
      </div>
      <h3>Image Filters</h3>
      <p>Apply creative filters and effects</p>
     </div>
     <div class="dashboard-card" onclick="showTool('text-effects')">
      <div class="feature-icon">
       üí¨
      </div>
      <h3>Text Effects</h3>
      <p>Create stunning text graphics</p>
     </div>
    </div>
   </section>
   <footer>
    <div class="footer-content">
     <p>¬© 2024 Runway ML - AI Creative Media Platform</p>
    </div>
   </footer>
  </div><!-- Background Removal Tool -->
  <div id="background-removal" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Background Removal</h2>
    <div class="tool-interface">
     <div class="upload-area" onclick="document.getElementById('bgRemovalInput').click()">
      <p style="font-size: 3rem; margin-bottom: 1rem;">üìÅ</p>
      <p style="color: #00ffff; font-size: 1.2rem;">Click to upload image</p>
      <p style="color: #b0c4de; margin-top: 0.5rem;">PNG, JPG up to 10MB</p><input type="file" id="bgRemovalInput" class="file-input" accept="image/*" onchange="loadImageForBgRemoval(event)">
     </div>
     <div class="tool-workspace">
      <div class="preview-area">
       <canvas id="bgRemovalCanvas" class="tool-canvas"></canvas>
      </div>
      <div class="preview-area">
       <canvas id="bgRemovalOutput" class="tool-canvas"></canvas>
      </div>
     </div>
     <div class="controls-panel">
      <div class="control-group"><label>Threshold: <span id="thresholdValue">128</span></label> <input type="range" class="slider" min="0" max="255" value="128" id="thresholdSlider">
      </div>
      <div class="button-group"><button class="process-button" onclick="removeBackground()">Remove Background</button> <button class="secondary-button" onclick="downloadCanvas('bgRemovalOutput', 'background-removed.png')">Download Result</button>
      </div>
      <div id="bgRemovalStatus"></div>
     </div>
    </div>
   </section>
  </div><!-- Style Transfer Tool -->
  <div id="style-transfer" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Style Transfer</h2>
    <div class="tool-interface">
     <div class="upload-area" onclick="document.getElementById('styleTransferInput').click()">
      <p style="font-size: 3rem; margin-bottom: 1rem;">üé®</p>
      <p style="color: #00ffff; font-size: 1.2rem;">Upload your image</p><input type="file" id="styleTransferInput" class="file-input" accept="image/*" onchange="loadImageForStyleTransfer(event)">
     </div>
     <div class="tool-workspace">
      <div class="preview-area">
       <canvas id="styleTransferCanvas" class="tool-canvas"></canvas>
      </div>
      <div class="preview-area">
       <canvas id="styleTransferOutput" class="tool-canvas"></canvas>
      </div>
     </div>
     <div class="controls-panel">
      <div class="control-group"><label>Select Style</label> <select id="styleSelect"> <option value="grayscale">Grayscale</option> <option value="sepia">Sepia/Vintage</option> <option value="neon">Neon Glow</option> <option value="comic">Comic Book</option> <option value="warm">Warm Tones</option> <option value="cool">Cool Tones</option> </select>
      </div>
      <div class="control-group"><label>Intensity: <span id="styleIntensityValue">100</span>%</label> <input type="range" class="slider" min="0" max="100" value="100" id="styleIntensitySlider">
      </div>
      <div class="button-group"><button class="process-button" onclick="applyStyleTransfer()">Apply Style</button> <button class="secondary-button" onclick="downloadCanvas('styleTransferOutput', 'styled-image.png')">Download Result</button>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Image Enhancement Tool -->
  <div id="image-enhancement" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Image Enhancement</h2>
    <div class="tool-interface">
     <div class="upload-area" onclick="document.getElementById('enhanceInput').click()">
      <p style="font-size: 3rem; margin-bottom: 1rem;">üîç</p>
      <p style="color: #00ffff; font-size: 1.2rem;">Upload image to enhance</p><input type="file" id="enhanceInput" class="file-input" accept="image/*" onchange="loadImageForEnhancement(event)">
     </div>
     <div class="preview-area">
      <canvas id="enhanceCanvas" class="tool-canvas"></canvas>
     </div>
     <div class="controls-panel">
      <div class="control-group"><label>Brightness: <span id="brightnessValue">100</span>%</label> <input type="range" class="slider" min="0" max="200" value="100" id="brightnessSlider" oninput="updateEnhancement()">
      </div>
      <div class="control-group"><label>Contrast: <span id="contrastValue">100</span>%</label> <input type="range" class="slider" min="0" max="200" value="100" id="contrastSlider" oninput="updateEnhancement()">
      </div>
      <div class="control-group"><label>Saturation: <span id="saturationValue">100</span>%</label> <input type="range" class="slider" min="0" max="200" value="100" id="saturationSlider" oninput="updateEnhancement()">
      </div>
      <div class="control-group"><label>Sharpness: <span id="sharpnessValue">0</span></label> <input type="range" class="slider" min="0" max="100" value="0" id="sharpnessSlider" oninput="updateEnhancement()">
      </div>
      <div class="button-group"><button class="secondary-button" onclick="resetEnhancement()">Reset</button> <button class="secondary-button" onclick="downloadCanvas('enhanceCanvas', 'enhanced-image.png')">Download Result</button>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Text to Image Tool -->
  <div id="text-to-image" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Text-to-Image Generator</h2>
    <div class="tool-interface">
     <div class="controls-panel">
      <div class="form-group"><label>Describe your image</label> <textarea id="imagePrompt" placeholder="E.g., A futuristic city with neon lights at night..." style="min-height: 120px;"></textarea>
      </div>
      <div class="control-group"><label>Style</label> <select id="imageStyle"> <option value="abstract">Abstract</option> <option value="geometric">Geometric</option> <option value="gradient">Gradient</option> <option value="particle">Particle Effect</option> </select>
      </div><button class="process-button" onclick="generateTextToImage()">Generate Image</button>
     </div>
     <div class="preview-area" style="margin-top: 2rem;">
      <canvas id="textToImageCanvas" class="tool-canvas" width="800" height="600"></canvas>
     </div>
     <div class="button-group" style="margin-top: 1rem; justify-content: center;"><button class="secondary-button" onclick="downloadCanvas('textToImageCanvas', 'generated-image.png')">Download Image</button>
     </div>
    </div>
   </section>
  </div><!-- Video Editor Tool -->
  <div id="video-editor" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Video Editor</h2>
    <div class="tool-interface">
     <div class="upload-area" onclick="document.getElementById('videoInput').click()">
      <p style="font-size: 3rem; margin-bottom: 1rem;">üé¨</p>
      <p style="color: #00ffff; font-size: 1.2rem;">Upload video file</p><input type="file" id="videoInput" class="file-input" accept="video/*" onchange="loadVideo(event)">
     </div>
     <div class="preview-area">
      <video id="videoPlayer" class="video-player" controls></video>
     </div>
     <div class="controls-panel">
      <div class="control-group"><label>Playback Speed: <span id="speedValue">1.0</span>x</label> <input type="range" class="slider" min="0.25" max="2" step="0.25" value="1" id="speedSlider" oninput="updateVideoSpeed()">
      </div>
      <div class="control-group"><label>Brightness: <span id="videoBrightnessValue">100</span>%</label> <input type="range" class="slider" min="0" max="200" value="100" id="videoBrightnessSlider" oninput="updateVideoFilters()">
      </div>
      <div class="control-group"><label>Contrast: <span id="videoContrastValue">100</span>%</label> <input type="range" class="slider" min="0" max="200" value="100" id="videoContrastSlider" oninput="updateVideoFilters()">
      </div>
      <div class="control-group"><label>Saturation: <span id="videoSaturationValue">100</span>%</label> <input type="range" class="slider" min="0" max="200" value="100" id="videoSaturationSlider" oninput="updateVideoFilters()">
      </div>
      <div class="button-group"><button class="secondary-button" onclick="resetVideoFilters()">Reset Filters</button>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Color Grading Tool -->
  <div id="color-grading" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Color Grading</h2>
    <div class="tool-interface">
     <div class="upload-area" onclick="document.getElementById('colorGradeInput').click()">
      <p style="font-size: 3rem; margin-bottom: 1rem;">üåà</p>
      <p style="color: #00ffff; font-size: 1.2rem;">Upload image for color grading</p><input type="file" id="colorGradeInput" class="file-input" accept="image/*" onchange="loadImageForColorGrade(event)">
     </div>
     <div class="preview-area">
      <canvas id="colorGradeCanvas" class="tool-canvas"></canvas>
     </div>
     <div class="controls-panel">
      <div class="control-group"><label>Preset Grades</label> <select id="gradePreset" onchange="applyGradePreset()"> <option value="none">None</option> <option value="cinematic">Cinematic</option> <option value="vintage">Vintage Film</option> <option value="cold">Cold Blue</option> <option value="warm">Warm Sunset</option> <option value="highContrast">High Contrast</option> </select>
      </div>
      <div class="control-group"><label>Shadows: <span id="shadowsValue">0</span></label> <input type="range" class="slider" min="-100" max="100" value="0" id="shadowsSlider" oninput="updateColorGrade()">
      </div>
      <div class="control-group"><label>Highlights: <span id="highlightsValue">0</span></label> <input type="range" class="slider" min="-100" max="100" value="0" id="highlightsSlider" oninput="updateColorGrade()">
      </div>
      <div class="control-group"><label>Temperature: <span id="temperatureValue">0</span></label> <input type="range" class="slider" min="-100" max="100" value="0" id="temperatureSlider" oninput="updateColorGrade()">
      </div>
      <div class="button-group"><button class="secondary-button" onclick="resetColorGrade()">Reset</button> <button class="secondary-button" onclick="downloadCanvas('colorGradeCanvas', 'color-graded.png')">Download</button>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Image Filters Tool -->
  <div id="image-filters" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Image Filters</h2>
    <div class="tool-interface">
     <div class="upload-area" onclick="document.getElementById('filterInput').click()">
      <p style="font-size: 3rem; margin-bottom: 1rem;">‚ú®</p>
      <p style="color: #00ffff; font-size: 1.2rem;">Upload image</p><input type="file" id="filterInput" class="file-input" accept="image/*" onchange="loadImageForFilter(event)">
     </div>
     <div class="preview-area">
      <canvas id="filterCanvas" class="tool-canvas"></canvas>
     </div>
     <div class="controls-panel">
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin-bottom: 2rem;"><button class="secondary-button" onclick="applyFilter('blur')">Blur</button> <button class="secondary-button" onclick="applyFilter('sharpen')">Sharpen</button> <button class="secondary-button" onclick="applyFilter('emboss')">Emboss</button> <button class="secondary-button" onclick="applyFilter('edge')">Edge Detect</button> <button class="secondary-button" onclick="applyFilter('invert')">Invert</button> <button class="secondary-button" onclick="applyFilter('pixelate')">Pixelate</button>
      </div>
      <div class="button-group"><button class="secondary-button" onclick="resetFilter()">Reset</button> <button class="secondary-button" onclick="downloadCanvas('filterCanvas', 'filtered-image.png')">Download</button>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Text Effects Tool -->
  <div id="text-effects" class="page">
   <section class="dashboard"><a href="#" onclick="showPage('dashboard')" class="back-button">‚Üê Back to Dashboard</a>
    <h2 class="section-title">Text Effects Generator</h2>
    <div class="tool-interface">
     <div class="controls-panel">
      <div class="form-group"><label>Enter Text</label> <input type="text" id="effectText" placeholder="Your text here..." value="RUNWAY ML">
      </div>
      <div class="control-group"><label>Font Size: <span id="fontSizeValue">80</span>px</label> <input type="range" class="slider" min="20" max="200" value="80" id="fontSizeSlider" oninput="updateTextEffect()">
      </div>
      <div class="control-group"><label>Effect Style</label> <select id="textEffectStyle" onchange="updateTextEffect()"> <option value="gradient">Gradient</option> <option value="neon">Neon Glow</option> <option value="3d">3D Effect</option> <option value="outline">Outline</option> <option value="shadow">Drop Shadow</option> </select>
      </div>
      <div class="control-group"><label>Primary Color</label> <input type="color" id="textColor1" value="#00ffff" onchange="updateTextEffect()" style="width: 100%; height: 50px; cursor: pointer;">
      </div>
      <div class="control-group"><label>Secondary Color</label> <input type="color" id="textColor2" value="#0080ff" onchange="updateTextEffect()" style="width: 100%; height: 50px; cursor: pointer;">
      </div>
     </div>
     <div class="preview-area" style="margin-top: 2rem;">
      <canvas id="textEffectCanvas" class="tool-canvas" width="800" height="400"></canvas>
     </div>
     <div class="button-group" style="margin-top: 1rem; justify-content: center;"><button class="secondary-button" onclick="downloadCanvas('textEffectCanvas', 'text-effect.png')">Download</button>
     </div>
    </div>
   </section>
  </div><!-- Tools Page -->
  <div id="tools" class="page">
   <section style="padding-top: 100px;">
    <h2 class="section-title">AI Tools Overview</h2>
    <p class="section-subtitle">Click any tool to start creating</p>
    <div class="features-grid">
     <div class="feature-card" onclick="showTool('background-removal')">
      <div class="feature-icon">
       üñºÔ∏è
      </div>
      <h3>Background Removal</h3>
      <p>Remove image backgrounds with threshold-based selection and transparency.</p>
     </div>
     <div class="feature-card" onclick="showTool('style-transfer')">
      <div class="feature-icon">
       üé®
      </div>
      <h3>Style Transfer</h3>
      <p>Apply artistic filters including grayscale, sepia, neon, and color toning.</p>
     </div>
     <div class="feature-card" onclick="showTool('image-enhancement')">
      <div class="feature-icon">
       üîç
      </div>
      <h3>Image Enhancement</h3>
      <p>Adjust brightness, contrast, saturation, and sharpness in real-time.</p>
     </div>
     <div class="feature-card" onclick="showTool('text-to-image')">
      <div class="feature-icon">
       üìù
      </div>
      <h3>Text-to-Image</h3>
      <p>Generate creative visualizations based on text descriptions.</p>
     </div>
     <div class="feature-card" onclick="showTool('video-editor')">
      <div class="feature-icon">
       üé¨
      </div>
      <h3>Video Editor</h3>
      <p>Edit video with speed control, filters, and real-time preview.</p>
     </div>
     <div class="feature-card" onclick="showTool('color-grading')">
      <div class="feature-icon">
       üåà
      </div>
      <h3>Color Grading</h3>
      <p>Professional color grading with cinematic presets and custom controls.</p>
     </div>
     <div class="feature-card" onclick="showTool('image-filters')">
      <div class="feature-icon">
       ‚ú®
      </div>
      <h3>Image Filters</h3>
      <p>Apply blur, sharpen, emboss, edge detection, and more.</p>
     </div>
     <div class="feature-card" onclick="showTool('text-effects')">
      <div class="feature-icon">
       üí¨
      </div>
      <h3>Text Effects</h3>
      <p>Create stunning text with gradients, neon glow, and 3D effects.</p>
     </div>
    </div>
   </section>
   <footer>
    <div class="footer-content">
     <p>¬© 2024 Runway ML - AI Creative Media Platform</p>
    </div>
   </footer>
  </div><!-- About Page -->
  <div id="about" class="page">
   <section style="padding-top: 100px;">
    <h2 class="section-title">About Runway ML</h2>
    <p class="section-subtitle">IDTE Project Overview</p>
    <div style="max-width: 900px; margin: 0 auto;">
     <div class="info-box">
      <h4>üéØ Project Purpose</h4>
      <p>Runway ML is an advanced AI-powered creative media platform designed to democratize access to professional-grade video editing, image generation, and media enhancement tools.</p>
     </div>
     <h3 style="color: #00ffff; font-size: 2rem; margin: 3rem 0 1.5rem;">Expected Outcomes</h3>
     <ul class="styled-list" style="color: #b0c4de; line-height: 2;">
      <li><strong style="color: #00ffff;">Faster Prototyping:</strong> Reduce content creation time through AI automation</li>
      <li><strong style="color: #00ffff;">Enhanced Creativity:</strong> Enable creators to explore new artistic directions</li>
      <li><strong style="color: #00ffff;">Workflow Automation:</strong> Streamline repetitive editing tasks</li>
      <li><strong style="color: #00ffff;">Accessibility:</strong> Make professional tools available to everyone</li>
     </ul>
     <h3 style="color: #00ffff; font-size: 2rem; margin: 3rem 0 1.5rem;">End Users</h3>
     <div class="features-grid">
      <div class="feature-card">
       <h3>üéì Students</h3>
       <p>Learn AI-powered media production and build portfolios.</p>
      </div>
      <div class="feature-card">
       <h3>üë®‚Äçüè´ Educators</h3>
       <p>Teach modern media techniques and AI capabilities.</p>
      </div>
      <div class="feature-card">
       <h3>üé¨ Filmmakers</h3>
       <p>Enhance post-production and create visual effects.</p>
      </div>
      <div class="feature-card">
       <h3>üé® Designers</h3>
       <p>Generate creative assets and explore visual styles.</p>
      </div>
     </div>
    </div>
   </section>
   <footer>
    <div class="footer-content">
     <p>¬© 2024 Runway ML - AI Creative Media Platform</p>
    </div>
   </footer>
  </div><!-- Contact Page -->
  <div id="contact" class="page">
   <section style="padding-top: 100px; min-height: 100%;">
    <h2 class="section-title">Get In Touch</h2>
    <div class="contact-form">
     <form id="contactForm" onsubmit="handleContact(event)">
      <div class="form-group"><label for="contact-name">Full Name</label> <input type="text" id="contact-name" placeholder="Your name" required>
      </div>
      <div class="form-group"><label for="contact-email">Email Address</label> <input type="email" id="contact-email" placeholder="your.email@example.com" required>
      </div>
      <div class="form-group"><label for="contact-subject">Subject</label> <input type="text" id="contact-subject" placeholder="What's this about?" required>
      </div>
      <div class="form-group"><label for="contact-message">Message</label> <textarea id="contact-message" placeholder="Tell us more..." required></textarea>
      </div><button type="submit" class="login-button">Send Message</button>
     </form>
     <div id="contactSuccess" style="display: none; margin-top: 2rem; padding: 1rem; background: rgba(0, 255, 0, 0.1); border: 1px solid rgba(0, 255, 0, 0.3); border-radius: 10px; text-align: center; color: #00ff00;">
      ‚úì Message sent successfully!
     </div>
    </div>
   </section>
   <footer>
    <div class="footer-content">
     <p>¬© 2024 Runway ML - AI Creative Media Platform</p>
    </div>
   </footer>
  </div>
  <script>
    // Navigation
    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      const page = document.getElementById(pageId);
      if (page) {
        page.classList.add('active');
        window.scrollTo(0, 0);
      }
    }

    function showTool(toolId) {
      showPage(toolId);
    }

    // Login Handler
    function handleLogin(event) {
      event.preventDefault();
      const email = document.getElementById('email').value;
      showSuccessMessage('Login successful! Credentials stored locally.');
      setTimeout(() => showPage('dashboard'), 1500);
    }

    // Contact Handler
    function handleContact(event) {
      event.preventDefault();
      document.getElementById('contactSuccess').style.display = 'block';
      document.getElementById('contactForm').reset();
      setTimeout(() => {
        document.getElementById('contactSuccess').style.display = 'none';
      }, 5000);
    }

    function showSuccessMessage(message) {
      // Create temporary success message
      const msg = document.createElement('div');
      msg.className = 'success-message';
      msg.textContent = message;
      msg.style.position = 'fixed';
      msg.style.top = '100px';
      msg.style.left = '50%';
      msg.style.transform = 'translateX(-50%)';
      msg.style.zIndex = '10000';
      document.body.appendChild(msg);
      setTimeout(() => msg.remove(), 3000);
    }

    // Background Removal
    let bgRemovalImage = null;

    function loadImageForBgRemoval(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
          bgRemovalImage = img;
          const canvas = document.getElementById('bgRemovalCanvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);
          
          const outputCanvas = document.getElementById('bgRemovalOutput');
          outputCanvas.width = img.width;
          outputCanvas.height = img.height;
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    document.getElementById('thresholdSlider').addEventListener('input', function(e) {
      document.getElementById('thresholdValue').textContent = e.target.value;
    });

    function removeBackground() {
      if (!bgRemovalImage) return;

      const canvas = document.getElementById('bgRemovalCanvas');
      const outputCanvas = document.getElementById('bgRemovalOutput');
      const ctx = canvas.getContext('2d');
      const outputCtx = outputCanvas.getContext('2d');
      
      const threshold = parseInt(document.getElementById('thresholdSlider').value);
      
      ctx.drawImage(bgRemovalImage, 0, 0);
      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
      const data = imageData.data;

      for (let i = 0; i < data.length; i += 4) {
        const brightness = (data[i] + data[i + 1] + data[i + 2]) / 3;
        if (brightness > threshold) {
          data[i + 3] = 0; // Make transparent
        }
      }

      outputCtx.putImageData(imageData, 0, 0);
      showSuccessMessage('Background removed successfully!');
    }

    // Style Transfer
    let styleTransferImage = null;

    function loadImageForStyleTransfer(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
          styleTransferImage = img;
          const canvas = document.getElementById('styleTransferCanvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);
          
          const outputCanvas = document.getElementById('styleTransferOutput');
          outputCanvas.width = img.width;
          outputCanvas.height = img.height;
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    document.getElementById('styleIntensitySlider').addEventListener('input', function(e) {
      document.getElementById('styleIntensityValue').textContent = e.target.value;
    });

    function applyStyleTransfer() {
      if (!styleTransferImage) return;

      const canvas = document.getElementById('styleTransferCanvas');
      const outputCanvas = document.getElementById('styleTransferOutput');
      const ctx = canvas.getContext('2d');
      const outputCtx = outputCanvas.getContext('2d');
      
      const style = document.getElementById('styleSelect').value;
      const intensity = parseInt(document.getElementById('styleIntensitySlider').value) / 100;
      
      ctx.drawImage(styleTransferImage, 0, 0);
      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
      const data = imageData.data;

      for (let i = 0; i < data.length; i += 4) {
        let r = data[i];
        let g = data[i + 1];
        let b = data[i + 2];

        switch(style) {
          case 'grayscale':
            const gray = 0.299 * r + 0.587 * g + 0.114 * b;
            r = g = b = gray * intensity + r * (1 - intensity);
            break;
          case 'sepia':
            const tr = 0.393 * r + 0.769 * g + 0.189 * b;
            const tg = 0.349 * r + 0.686 * g + 0.168 * b;
            const tb = 0.272 * r + 0.534 * g + 0.131 * b;
            r = tr * intensity + r * (1 - intensity);
            g = tg * intensity + g * (1 - intensity);
            b = tb * intensity + b * (1 - intensity);
            break;
          case 'neon':
            r = Math.min(255, r * (1 + intensity));
            g = Math.min(255, g * (1 + intensity * 1.5));
            b = Math.min(255, b * (1 + intensity * 2));
            break;
          case 'comic':
            r = r > 128 ? 255 : 0;
            g = g > 128 ? 255 : 0;
            b = b > 128 ? 255 : 0;
            r = r * intensity + data[i] * (1 - intensity);
            g = g * intensity + data[i + 1] * (1 - intensity);
            b = b * intensity + data[i + 2] * (1 - intensity);
            break;
          case 'warm':
            r = Math.min(255, r * (1 + intensity * 0.3));
            g = Math.min(255, g * (1 + intensity * 0.1));
            b = Math.max(0, b * (1 - intensity * 0.2));
            break;
          case 'cool':
            r = Math.max(0, r * (1 - intensity * 0.2));
            g = Math.min(255, g * (1 + intensity * 0.1));
            b = Math.min(255, b * (1 + intensity * 0.3));
            break;
        }

        data[i] = Math.min(255, Math.max(0, r));
        data[i + 1] = Math.min(255, Math.max(0, g));
        data[i + 2] = Math.min(255, Math.max(0, b));
      }

      outputCtx.putImageData(imageData, 0, 0);
      showSuccessMessage('Style applied successfully!');
    }

    // Image Enhancement
    let enhanceImage = null;
    let originalEnhanceData = null;

    function loadImageForEnhancement(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
          enhanceImage = img;
          const canvas = document.getElementById('enhanceCanvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);
          originalEnhanceData = ctx.getImageData(0, 0, canvas.width, canvas.height);
          updateEnhancement();
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    function updateEnhancement() {
      if (!enhanceImage || !originalEnhanceData) return;

      const canvas = document.getElementById('enhanceCanvas');
      const ctx = canvas.getContext('2d');
      
      const brightness = parseInt(document.getElementById('brightnessSlider').value);
      const contrast = parseInt(document.getElementById('contrastSlider').value);
      const saturation = parseInt(document.getElementById('saturationSlider').value);
      
      document.getElementById('brightnessValue').textContent = brightness;
      document.getElementById('contrastValue').textContent = contrast;
      document.getElementById('saturationValue').textContent = saturation;
      
      const imageData = new ImageData(
        new Uint8ClampedArray(originalEnhanceData.data),
        originalEnhanceData.width,
        originalEnhanceData.height
      );
      const data = imageData.data;

      const brightnessFactor = brightness / 100;
      const contrastFactor = (contrast / 100) * 2;
      const saturationFactor = saturation / 100;

      for (let i = 0; i < data.length; i += 4) {
        // Brightness
        let r = data[i] * brightnessFactor;
        let g = data[i + 1] * brightnessFactor;
        let b = data[i + 2] * brightnessFactor;

        // Contrast
        r = ((r / 255 - 0.5) * contrastFactor + 0.5) * 255;
        g = ((g / 255 - 0.5) * contrastFactor + 0.5) * 255;
        b = ((b / 255 - 0.5) * contrastFactor + 0.5) * 255;

        // Saturation
        const gray = 0.299 * r + 0.587 * g + 0.114 * b;
        r = gray + (r - gray) * saturationFactor;
        g = gray + (g - gray) * saturationFactor;
        b = gray + (b - gray) * saturationFactor;

        data[i] = Math.min(255, Math.max(0, r));
        data[i + 1] = Math.min(255, Math.max(0, g));
        data[i + 2] = Math.min(255, Math.max(0, b));
      }

      ctx.putImageData(imageData, 0, 0);
    }

    function resetEnhancement() {
      document.getElementById('brightnessSlider').value = 100;
      document.getElementById('contrastSlider').value = 100;
      document.getElementById('saturationSlider').value = 100;
      document.getElementById('sharpnessSlider').value = 0;
      updateEnhancement();
    }

    // Text to Image Generator
    async function generateTextToImage() {
  const canvas = document.getElementById('textToImageCanvas');
  const ctx = canvas.getContext('2d');
  const prompt = document.getElementById('imagePrompt').value;
  const style = document.getElementById('imageStyle').value;

  if (!prompt.trim()) {
    showSuccessMessage('Please enter a description for your image!');
    return;
  }

  // Show loading state
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.fillStyle = '#0a0e27';
  ctx.fillRect(0, 0, canvas.width, canvas.height);
  
  ctx.fillStyle = '#00ffff';
  ctx.font = '24px Arial';
  ctx.textAlign = 'center';
  ctx.fillText('üé® Generating your image...', canvas.width / 2, canvas.height / 2 - 20);
  
  ctx.fillStyle = '#b0c4de';
  ctx.font = '16px Arial';
  ctx.fillText('This may take a few seconds', canvas.width / 2, canvas.height / 2 + 20);

  try {
    // Call our backend API
    const response = await fetch('/api/generate-image', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        prompt: prompt,
        style: style
      })
    });

    if (!response.ok) {
      throw new Error(`Server error: ${response.status}`);
    }

    const data = await response.json();

    if (data.success && data.imageUrl) {
      // Load the generated image
      const img = new Image();
      img.crossOrigin = 'anonymous';
      
      img.onload = function() {
        // Draw the image on canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Calculate dimensions to fit canvas while maintaining aspect ratio
        const scale = Math.min(canvas.width / img.width, canvas.height / img.height);
        const x = (canvas.width - img.width * scale) / 2;
        const y = (canvas.height - img.height * scale) / 2;
        
        ctx.drawImage(img, x, y, img.width * scale, img.height * scale);
        showSuccessMessage('‚ú® Image generated successfully!');
      };

      img.onerror = function() {
        // Fallback: show the URL if image loading fails
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#0a0e27';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        
        ctx.fillStyle = '#00ffff';
        ctx.font = '18px Arial';
        ctx.textAlign = 'center';
        ctx.fillText('Image generated! Click below to view:', canvas.width / 2, canvas.height / 2 - 40);
        
        ctx.fillStyle = '#b0c4de';
        ctx.font = '14px Arial';
        ctx.fillText('(Right-click the link and open in new tab)', canvas.width / 2, canvas.height / 2);
        
        // Create a clickable link overlay
        const linkDiv = document.createElement('div');
        linkDiv.innerHTML = `<a href="${data.imageUrl}" target="_blank" style="color: #00ffff; font-size: 16px;">View Generated Image</a>`;
        linkDiv.style.textAlign = 'center';
        linkDiv.style.marginTop = '20px';
        canvas.parentElement.appendChild(linkDiv);
        
        showSuccessMessage('Image generated! Click the link to view.');
      };

      img.src = data.imageUrl;

    } else {
      throw new Error('Invalid response from server');
    }

  } catch (error) {
    console.error('Error generating image:', error);
    
    // Show error message on canvas
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.fillStyle = '#0a0e27';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    ctx.fillStyle = '#ff4444';
    ctx.font = '20px Arial';
    ctx.textAlign = 'center';
    ctx.fillText('‚ùå Error generating image', canvas.width / 2, canvas.height / 2 - 20);
    
    ctx.fillStyle = '#b0c4de';
    ctx.font = '14px Arial';
    ctx.fillText('Please try again or check your connection', canvas.width / 2, canvas.height / 2 + 20);
    
    showSuccessMessage('Error: ' + error.message);
  }
}

    // Video Editor
    function loadVideo(event) {
      const file = event.target.files[0];
      if (!file) return;

      const video = document.getElementById('videoPlayer');
      video.src = URL.createObjectURL(file);
      video.load();
      showSuccessMessage('Video loaded successfully!');
    }

    function updateVideoSpeed() {
      const video = document.getElementById('videoPlayer');
      const speed = parseFloat(document.getElementById('speedSlider').value);
      video.playbackRate = speed;
      document.getElementById('speedValue').textContent = speed.toFixed(2);
    }

    function updateVideoFilters() {
      const video = document.getElementById('videoPlayer');
      const brightness = document.getElementById('videoBrightnessSlider').value;
      const contrast = document.getElementById('videoContrastSlider').value;
      const saturation = document.getElementById('videoSaturationSlider').value;

      document.getElementById('videoBrightnessValue').textContent = brightness;
      document.getElementById('videoContrastValue').textContent = contrast;
      document.getElementById('videoSaturationValue').textContent = saturation;

      video.style.filter = `brightness(${brightness}%) contrast(${contrast}%) saturate(${saturation}%)`;
    }

    function resetVideoFilters() {
      document.getElementById('videoBrightnessSlider').value = 100;
      document.getElementById('videoContrastSlider').value = 100;
      document.getElementById('videoSaturationSlider').value = 100;
      document.getElementById('speedSlider').value = 1;
      updateVideoFilters();
      updateVideoSpeed();
    }

    // Color Grading
    let colorGradeImage = null;
    let originalColorGradeData = null;

    function loadImageForColorGrade(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
          colorGradeImage = img;
          const canvas = document.getElementById('colorGradeCanvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);
          originalColorGradeData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    function applyGradePreset() {
      const preset = document.getElementById('gradePreset').value;
      
      switch(preset) {
        case 'cinematic':
          document.getElementById('shadowsSlider').value = -20;
          document.getElementById('highlightsSlider').value = 10;
          document.getElementById('temperatureSlider').value = 15;
          break;
        case 'vintage':
          document.getElementById('shadowsSlider').value = 10;
          document.getElementById('highlightsSlider').value = -15;
          document.getElementById('temperatureSlider').value = 30;
          break;
        case 'cold':
          document.getElementById('shadowsSlider').value = 5;
          document.getElementById('highlightsSlider').value = 5;
          document.getElementById('temperatureSlider').value = -40;
          break;
        case 'warm':
          document.getElementById('shadowsSlider').value = -5;
          document.getElementById('highlightsSlider').value = 15;
          document.getElementById('temperatureSlider').value = 40;
          break;
        case 'highContrast':
          document.getElementById('shadowsSlider').value = -30;
          document.getElementById('highlightsSlider').value = 30;
          document.getElementById('temperatureSlider').value = 0;
          break;
        case 'none':
          document.getElementById('shadowsSlider').value = 0;
          document.getElementById('highlightsSlider').value = 0;
          document.getElementById('temperatureSlider').value = 0;
          break;
      }
      
      updateColorGrade();
    }

    function updateColorGrade() {
      if (!colorGradeImage || !originalColorGradeData) return;

      const canvas = document.getElementById('colorGradeCanvas');
      const ctx = canvas.getContext('2d');
      
      const shadows = parseInt(document.getElementById('shadowsSlider').value);
      const highlights = parseInt(document.getElementById('highlightsSlider').value);
      const temperature = parseInt(document.getElementById('temperatureSlider').value);
      
      document.getElementById('shadowsValue').textContent = shadows;
      document.getElementById('highlightsValue').textContent = highlights;
      document.getElementById('temperatureValue').textContent = temperature;
      
      const imageData = new ImageData(
        new Uint8ClampedArray(originalColorGradeData.data),
        originalColorGradeData.width,
        originalColorGradeData.height
      );
      const data = imageData.data;

      for (let i = 0; i < data.length; i += 4) {
        let r = data[i];
        let g = data[i + 1];
        let b = data[i + 2];
        
        const brightness = (r + g + b) / 3;
        
        // Shadows and Highlights
        if (brightness < 128) {
          const factor = 1 + (shadows / 100);
          r *= factor;
          g *= factor;
          b *= factor;
        } else {
          const factor = 1 + (highlights / 100);
          r *= factor;
          g *= factor;
          b *= factor;
        }
        
        // Temperature
        r += temperature * 0.5;
        b -= temperature * 0.5;
        
        data[i] = Math.min(255, Math.max(0, r));
        data[i + 1] = Math.min(255, Math.max(0, g));
        data[i + 2] = Math.min(255, Math.max(0, b));
      }

      ctx.putImageData(imageData, 0, 0);
    }

    function resetColorGrade() {
      document.getElementById('gradePreset').value = 'none';
      document.getElementById('shadowsSlider').value = 0;
      document.getElementById('highlightsSlider').value = 0;
      document.getElementById('temperatureSlider').value = 0;
      updateColorGrade();
    }

    // Image Filters
    let filterImage = null;
    let originalFilterData = null;

    function loadImageForFilter(event) {
      const file = event.target.files[0];
      if (!file) return;

      const reader = new FileReader();
      reader.onload = function(e) {
        const img = new Image();
        img.onload = function() {
          filterImage = img;
          const canvas = document.getElementById('filterCanvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);
          originalFilterData = ctx.getImageData(0, 0, canvas.width, canvas.height);
        };
        img.src = e.target.result;
      };
      reader.readAsDataURL(file);
    }

    function applyFilter(filterType) {
      if (!filterImage || !originalFilterData) return;

      const canvas = document.getElementById('filterCanvas');
      const ctx = canvas.getContext('2d');
      const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
      const data = imageData.data;
      const width = canvas.width;
      const height = canvas.height;

      switch(filterType) {
        case 'blur':
          applyConvolution(imageData, [
            1/9, 1/9, 1/9,
            1/9, 1/9, 1/9,
            1/9, 1/9, 1/9
          ]);
          break;
        case 'sharpen':
          applyConvolution(imageData, [
            0, -1, 0,
            -1, 5, -1,
            0, -1, 0
          ]);
          break;
        case 'emboss':
          applyConvolution(imageData, [
            -2, -1, 0,
            -1, 1, 1,
            0, 1, 2
          ]);
          break;
        case 'edge':
          applyConvolution(imageData, [
            -1, -1, -1,
            -1, 8, -1,
            -1, -1, -1
          ]);
          break;
        case 'invert':
          for (let i = 0; i < data.length; i += 4) {
            data[i] = 255 - data[i];
            data[i + 1] = 255 - data[i + 1];
            data[i + 2] = 255 - data[i + 2];
          }
          break;
        case 'pixelate':
          const pixelSize = 8;
          for (let y = 0; y < height; y += pixelSize) {
            for (let x = 0; x < width; x += pixelSize) {
              const i = (y * width + x) * 4;
              const r = data[i];
              const g = data[i + 1];
              const b = data[i + 2];
              
              for (let py = 0; py < pixelSize; py++) {
                for (let px = 0; px < pixelSize; px++) {
                  const pi = ((y + py) * width + (x + px)) * 4;
                  if (pi < data.length) {
                    data[pi] = r;
                    data[pi + 1] = g;
                    data[pi + 2] = b;
                  }
                }
              }
            }
          }
          break;
      }

      ctx.putImageData(imageData, 0, 0);
      showSuccessMessage(`${filterType} filter applied!`);
    }

    function applyConvolution(imageData, kernel) {
      const data = imageData.data;
      const width = imageData.width;
      const height = imageData.height;
      const output = new Uint8ClampedArray(data);

      for (let y = 1; y < height - 1; y++) {
        for (let x = 1; x < width - 1; x++) {
          let r = 0, g = 0, b = 0;
          
          for (let ky = -1; ky <= 1; ky++) {
            for (let kx = -1; kx <= 1; kx++) {
              const idx = ((y + ky) * width + (x + kx)) * 4;
              const kernelIdx = (ky + 1) * 3 + (kx + 1);
              r += data[idx] * kernel[kernelIdx];
              g += data[idx + 1] * kernel[kernelIdx];
              b += data[idx + 2] * kernel[kernelIdx];
            }
          }
          
          const idx = (y * width + x) * 4;
          output[idx] = Math.min(255, Math.max(0, r));
          output[idx + 1] = Math.min(255, Math.max(0, g));
          output[idx + 2] = Math.min(255, Math.max(0, b));
        }
      }

      for (let i = 0; i < data.length; i++) {
        data[i] = output[i];
      }
    }

    function resetFilter() {
      if (!filterImage || !originalFilterData) return;
      const canvas = document.getElementById('filterCanvas');
      const ctx = canvas.getContext('2d');
      ctx.putImageData(originalFilterData, 0, 0);
    }

    // Text Effects
    function updateTextEffect() {
      const canvas = document.getElementById('textEffectCanvas');
      const ctx = canvas.getContext('2d');
      
      const text = document.getElementById('effectText').value;
      const fontSize = parseInt(document.getElementById('fontSizeSlider').value);
      const style = document.getElementById('textEffectStyle').value;
      const color1 = document.getElementById('textColor1').value;
      const color2 = document.getElementById('textColor2').value;
      
      document.getElementById('fontSizeValue').textContent = fontSize;
      
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      
      // Background
      const bgGradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
      bgGradient.addColorStop(0, '#0a0e27');
      bgGradient.addColorStop(1, '#1a1f3a');
      ctx.fillStyle = bgGradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);
      
      ctx.font = `bold ${fontSize}px Arial, sans-serif`;
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      
      const x = canvas.width / 2;
      const y = canvas.height / 2;
      
      switch(style) {
        case 'gradient':
          const gradient = ctx.createLinearGradient(0, y - fontSize/2, 0, y + fontSize/2);
          gradient.addColorStop(0, color1);
          gradient.addColorStop(1, color2);
          ctx.fillStyle = gradient;
          ctx.fillText(text, x, y);
          break;
          
        case 'neon':
          ctx.shadowColor = color1;
          ctx.shadowBlur = 20;
          ctx.strokeStyle = color1;
          ctx.lineWidth = 3;
          ctx.strokeText(text, x, y);
          
          ctx.shadowBlur = 40;
          ctx.fillStyle = color2;
          ctx.fillText(text, x, y);
          break;
          
        case '3d':
          for (let i = 10; i > 0; i--) {
            ctx.fillStyle = `rgba(0, 128, 255, ${0.1 * i})`;
            ctx.fillText(text, x - i, y + i);
          }
          const grad3d = ctx.createLinearGradient(0, y - fontSize/2, 0, y + fontSize/2);
          grad3d.addColorStop(0, color1);
          grad3d.addColorStop(1, color2);
          ctx.fillStyle = grad3d;
          ctx.fillText(text, x, y);
          break;
          
        case 'outline':
          ctx.strokeStyle = color1;
          ctx.lineWidth = 6;
          ctx.strokeText(text, x, y);
          ctx.fillStyle = color2;
          ctx.fillText(text, x, y);
          break;
          
        case 'shadow':
          ctx.shadowColor = 'rgba(0, 0, 0, 0.8)';
          ctx.shadowBlur = 10;
          ctx.shadowOffsetX = 8;
          ctx.shadowOffsetY = 8;
          const gradShadow = ctx.createLinearGradient(0, y - fontSize/2, 0, y + fontSize/2);
          gradShadow.addColorStop(0, color1);
          gradShadow.addColorStop(1, color2);
          ctx.fillStyle = gradShadow;
          ctx.fillText(text, x, y);
          break;
      }
      
      ctx.shadowColor = 'transparent';
      ctx.shadowBlur = 0;
      ctx.shadowOffsetX = 0;
      ctx.shadowOffsetY = 0;
    }

    // Initialize text effect on load
    document.getElementById('effectText').addEventListener('input', updateTextEffect);
    
    // Download function
    function downloadCanvas(canvasId, filename) {
      const canvas = document.getElementById(canvasId);
      const link = document.createElement('a');
      link.download = filename;
      link.href = canvas.toDataURL();
      link.click();
      showSuccessMessage('Image downloaded successfully!');
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      showPage('home');
      updateTextEffect();
    });
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a3f12c7a35e3b7f',t:'MTc2NDA1MTk3NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>

<script>
/* ‚úÖ FULL AUTH SYSTEM */

function getUsers(){return JSON.parse(localStorage.getItem("users"))||[]}

function handleRegister(e){
  e.preventDefault();
  const users=getUsers();
  if(users.find(u=>u.email===regEmail.value)){
    registerMsg.innerHTML="<div style='color:red'>User already exists</div>";
    return;
  }
  users.push({name:regName.value,email:regEmail.value,password:regPassword.value});
  localStorage.setItem("users",JSON.stringify(users));
  registerMsg.innerHTML="<div style='color:lime'>Registration successful</div>";
  setTimeout(()=>showPage("login"),1000);
}

function handleLogin(e){
  e.preventDefault();
  const users=getUsers();
  const user=users.find(u=>u.email===email.value&&u.password===password.value);
  if(!user){showSuccessMessage("Invalid Credentials");return;}
  localStorage.setItem("sessionUser",JSON.stringify(user));
  showSuccessMessage("Login Successful");
  updateNavbar();
  setTimeout(()=>showPage("dashboard"),1200)
}

function logout(){
  localStorage.removeItem("sessionUser");
  updateNavbar();
  showPage("login");
}

const baseShowPage=window.showPage;
window.showPage=function(id){
  const locked=["dashboard","tools","background-removal","style-transfer","image-enhancement","text-to-image","video-editor","color-grading","image-filters","text-effects"];
  if(locked.includes(id)&&!localStorage.getItem("sessionUser")){
    showSuccessMessage("Login Required");
    return baseShowPage("login");
  }
  return baseShowPage(id);
}

function updateNavbar(){
  const logged=!!localStorage.getItem("sessionUser");
  dashboardLink.style.display=logged?"block":"none";
  toolsLink.style.display=logged?"block":"none";
  logoutLink.style.display=logged?"block":"none";
  loginLink.style.display=logged?"none":"block";
  registerLink.style.display=logged?"none":"block";
}

document.addEventListener("DOMContentLoaded",updateNavbar);
</script>

<script>
/* üîê HARD AUTH ENFORCEMENT PATCH */

/* Force redirect on refresh if not logged in */
document.addEventListener("DOMContentLoaded", () => {
  const session = localStorage.getItem("sessionUser");
  const current = document.querySelector(".page.active");

  const restricted = [
    "dashboard","tools","background-removal","style-transfer",
    "image-enhancement","text-to-image","video-editor",
    "color-grading","image-filters","text-effects"
  ];

  if (!session && current && restricted.includes(current.id)) {
    document.querySelectorAll(".page").forEach(p=>p.classList.remove("active"));
    document.getElementById("login").classList.add("active");
  }

  updateNavbar();
});

/* Override showTool as well */
const realShowTool = window.showTool;
window.showTool = function(toolId) {
  if (!localStorage.getItem("sessionUser")) {
    showSuccessMessage("Login required");
    return showPage("login");
  }
  return realShowTool(toolId);
};

/* Kill any direct Dashboard forcing */
document.addEventListener("click", e => {
  if (e.target.closest("[onclick*='dashboard'],[onclick*='tools']")) {
    if (!localStorage.getItem("sessionUser")) {
      e.preventDefault();
      showSuccessMessage("Login required");
      showPage("login");
    }
  }
});
</script>
